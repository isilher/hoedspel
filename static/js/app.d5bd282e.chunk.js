(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{215:function(e,t,n){"use strict";n.d(t,"a",(function(){return Ne}));var a=n(186),r=n(0),i=n.n(r),l=n(370),o=n(9),u=n.n(o),c=n(47),s=n.n(c),m=n(10),d=n.n(m),g=n(368),f=n(369),h=n(140);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=n(18),y=n.n(v),_=n(6),E=n(68),j=n(67),w=n(42),C=n(20),O=n.n(C),x=n(60),I=n.n(x),k=n(51),S=n(8),$={light:{text:"#000",background:"#fff",tint:"#2f95dc",tabIconDefault:"#ccc",tabIconSelected:"#2f95dc"},dark:{text:"#fff",background:"#000",tint:"#fff",tabIconDefault:"#ccc",tabIconSelected:"#fff"}};function z(e,t){var n=e.light;return n||$.light[t]}function P(e){var t=e.style,n=e.lightColor,a=e.darkColor,i=I()(e,["style","lightColor","darkColor"]),l=z({light:n,dark:a},"text");return r.createElement(k.a,O()({style:[{color:l},t]},i))}function q(e){var t=e.style,n=e.lightColor,a=e.darkColor,i=I()(e,["style","lightColor","darkColor"]),l=z({light:n,dark:a},"background");return r.createElement(S.a,O()({style:[{backgroundColor:l},t]},i))}function M(e){var t=e.color,n=void 0===t?"#BA7CC6":t,a=e.onPress,i=e.title,l=e.disabled;return r.createElement(w.a,{onPress:l?void 0:a},r.createElement(q,{style:{backgroundColor:n,width:"100%",padding:10,borderWidth:1,borderColor:"#333",alignItems:"center",justifyContent:"center"}},r.createElement(P,{style:{color:"white",fontWeight:"bold"}},i)))}var B=n(112),W=n.n(B),G=n(7);function A(){var e=y()(['\n  query getUser {\n    users(where: { auth0_id_a: {_eq: "Er is maar \xe9\xe9n oma Jo"} }) {\n      auth_id\n      name\n    }\n  }\n']);return A=function(){return e},e}function N(){var e=y()(["\n  query getUser($token: uuid!) {\n    users(where: { auth_id: {_eq: $token} }) {\n      auth_id\n      name\n      auth0_id_a\n    }\n  }\n"]);return N=function(){return e},e}function Q(){var e=y()(["\n  mutation newUser($name: String!, $randomness: String!) {\n    insert_users(objects: {name: $name, auth0_id_a: $randomness }) {\n      returning {\n        auth_id\n        name\n      }\n    }\n  }\n"]);return Q=function(){return e},e}var H=Object(G.gql)(Q()),D=Object(G.gql)(N()),J=Object(G.gql)(A()),F=r.createContext({token:"",name:"",auth0Id:"",isAuthorized:!1,isOma:!1,logout:function(){},omaId:""}),T=function(e){var t=e.children,n=r.useState(""),a=d()(n,2),i=a[0],l=a[1],o=r.useState(""),c=d()(o,2),s=c[0],m=c[1],g=r.useState(""),f=d()(g,2),h=f[0],p=f[1],b=r.useState(!1),v=d()(b,2),y=v[0],_=v[1],C=r.useState(!1),O=d()(C,2),x=O[0],I=O[1],k=Object(G.useQuery)(J).data,S=(null==k?void 0:k.users[0].auth_id)||"",$=Object(G.useMutation)(H,{onCompleted:function(e){var t,n=null==e||null==(t=e.insert_users)?void 0:t.returning[0];p(n.auth_id),_(!0),X(n.auth_id)}}),z=d()($,2),B=z[0],A=z[1].loading,N=Object(G.useLazyQuery)(D,{fetchPolicy:"network-only",onCompleted:function(e){var t=null==e?void 0:e.users[0];p(t.auth_id),l(t.name),_(!0),"Er is maar \xe9\xe9n oma Jo"===t.auth0_id_a&&I(!0)}}),Q=d()(N,2),T=Q[0],V=Q[1].loading,R=Object(G.useLazyQuery)(J,{fetchPolicy:"network-only",onCompleted:function(e){var t=null==e?void 0:e.users[0];p(t.auth_id),l(t.name),I(!0),_(!0),X(t.auth_id)}}),U=d()(R,2),K=U[0],Z=U[1].loading,X=function(e){return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.prev=1,t.next=4,u.a.awrap(W.a.setItem("@token",e));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.log("could not save token");case 9:case"end":return t.stop()}}),null,null,[[1,6]],Promise)};return r.useEffect((function(){s||function(){var e;u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.awrap(W.a.getItem("@token"));case 3:null!==(e=t.sent)&&T({variables:{token:e}}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("could not retrieve token");case 10:case"end":return t.stop()}}),null,null,[[0,7]],Promise)}()}),[]),V?r.createElement(j.a,null):r.createElement(q,{style:L.container},r.createElement(F.Provider,{value:{token:s,name:i,auth0Id:h,isAuthorized:y,isOma:x,logout:function(){u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:try{W.a.removeItem("@token")}catch(t){console.log("could not remove token")}case 1:case"end":return e.stop()}}),null,null,null,Promise).then((function(){p(""),l(""),_(!1),I(!1),m("")}))},omaId:S}},y?t:r.createElement(q,{style:L.buttonContainer},r.createElement(P,{style:{marginBottom:50,fontSize:100}},"\ud83c\udfa9"),r.createElement(E.a,{style:L.textInput,value:i,onChangeText:l,placeholder:"Je naam"}),r.createElement(M,{disabled:A||""===i,title:"Spelen maar!",onPress:function(){B({variables:{name:i,randomness:"\ud83d\udca9"+Date.now().toString()}})}}),r.createElement(w.a,{disabled:Z,onPress:function(){return K()}},r.createElement(q,{style:{borderRadius:5,marginTop:50,backgroundColor:"#CEFA05",padding:10,paddingHorizontal:25,borderColor:"grey",borderWidth:1}},r.createElement(P,{style:{fontSize:32}},"\ud83d\udc75 Ik ben oma Jo"))))))},L=_.a.create({container:{flex:1},buttonContainer:{justifyContent:"center",alignItems:"center",height:"100%"},textInput:{padding:10,borderWidth:1,borderColor:"blue",marginBottom:15}}),V=function(e){var t=e.children,n=Object(r.useContext)(F),a=(n.token,n.auth0Id,function(e,t){var n=new G.HttpLink({uri:"https://sweeping-jay-28.hasura.app/v1/graphql"});return new G.ApolloClient({link:n,cache:new G.InMemoryCache})}());return i.a.createElement(G.ApolloProvider,{client:a},t)},R=n(214),U=n(41),K=function(){return i.a.createElement(q,{style:Z.separator,lightColor:"#eee",darkColor:"rgba(255,255,255,0.1)"})},Z=_.a.create({separator:{marginVertical:30,height:1,width:"80%"}});function X(){var e=y()(["\n  mutation joinGame($game: Int!, $userId: uuid!) {\n    update_users(where: {auth_id: {_eq: $userId}}, _set: {game_id: $game}) {\n      returning {\n        game_id\n        id\n      }\n    }\n  }\n"]);return X=function(){return e},e}function Y(){var e=y()(["\n  mutation createGame($name: String!, $userId: uuid!) {\n    insert_games(objects: {name: $name, host_id: $userId}) {\n      returning {\n        name\n        id\n      }\n    }\n  }\n"]);return Y=function(){return e},e}function ee(){var e=y()(["\n  query getOpenGames {\n    games(where: {started: {_eq: false}}) {\n      id\n      name\n      players {\n        name\n      }\n    }\n  }\n"]);return ee=function(){return e},e}var te=Object(G.gql)(ee()),ne=Object(G.gql)(Y()),ae=Object(G.gql)(X()),re=function(e){var t=e.game,n=r.useContext(F).auth0Id,a=Object(G.useMutation)(ae,{refetchQueries:["getOpenGames","getMyGame"]}),i=d()(a,1)[0];return r.createElement(q,{style:le.gameListItem},r.createElement(q,null,r.createElement(P,{style:le.title},t.name),r.createElement(P,null,t.players.map((function(e){return e.name})).join(", "))),r.createElement(q,null,r.createElement(M,{color:"#BA7CC6",title:"meedoen",onPress:function(){i({variables:{game:t.id,userId:n}})}})))};function ie(){var e,t=r.useState(""),n=d()(t,2),a=n[0],i=n[1],l=r.useContext(F),o=l.name,u=l.auth0Id,c=l.isOma,s=l.logout,m=r.useState(1),g=d()(m,2),f=g[0],h=g[1],p=Object(G.useQuery)(te,{pollInterval:5e3}),b=p.loading,v=p.data,y=Object(G.useMutation)(ae,{refetchQueries:["getOpenGames","getMyGame"]}),_=d()(y,1)[0],C=Object(G.useMutation)(ne,{refetchQueries:["getOpenGames"],onCompleted:function(e){var t,n;_({variables:{game:null==e||null==(t=e.insert_games)||null==(n=t.returning[0])?void 0:n.id,userId:u}})}}),O=d()(C,1)[0],x=null!=(e=null==v?void 0:v.games)?e:[];return c?r.createElement(q,{style:le.container},r.createElement(w.a,{onPress:function(){if(f>=7)return h(1),void s();h((function(e){return e+1}))}},r.createElement(P,{style:{fontSize:72}},"\ud83d\udd70")),r.createElement(P,{style:{fontSize:32,textAlign:"center"}},"Even wachten oma, het spel begint zo!")):r.createElement(q,{style:le.container},r.createElement(q,{style:le.row},r.createElement(P,{style:le.title},"Hoi ",o,"!"),r.createElement(w.a,{onPress:s},r.createElement(P,null,"\ud83d\udeaa\ud83c\udfc3\u200d\u2642\ufe0f"))),r.createElement(P,null,"Kies een spel om aan mee te doen:"),b&&r.createElement(j.a,null),r.createElement(R.a,{style:le.flatList,data:x,renderItem:function(e){var t=e.item;return r.createElement(re,{game:t})},keyExtractor:function(e){return e.id.toString()}}),r.createElement(K,null),r.createElement(P,{style:le.title},"Of maak een nieuw spel aan:"),r.createElement(q,{style:le.row},r.createElement(E.a,{style:le.textInput,placeholder:"Naam voor een nieuw spel",value:a,onChangeText:i}),r.createElement(M,{title:" + ",onPress:function(){O({variables:{name:a,userId:u}})}})))}var le=_.a.create({container:{flex:1,alignItems:"center",justifyContent:"center",paddingVertical:50,paddingHorizontal:15,height:U.a.get("window").height},title:{fontSize:20,fontWeight:"bold",marginBottom:15},row:{flexDirection:"row",width:"100%",justifyContent:"space-between"},gameListItem:{padding:15,borderWidth:1,borderColor:"purple",flex:1,marginVertical:5,flexDirection:"row",justifyContent:"space-between"},textInput:{padding:10,marginRight:10,borderWidth:1,borderColor:"blue",flex:1},flatList:{backgroundColor:"#FFE3EC",width:"100%",borderWidth:1,borderColor:"#FFE3EC"},playButton:{backgroundColor:"#BA7CC6",justifyContent:"center",alignItems:"center"}});function oe(){var e=y()(["\n  query getMyGame($userId: uuid!) {\n    users(where: { auth_id: { _eq: $userId } }) {\n      id\n      game {\n        host_id\n        id\n        name\n        current_name {\n          id\n          name\n        }\n        players {\n          name\n          id\n          claimed_names {\n            id\n            game_id\n          }\n        }\n        unclaimed_names:names(where: { claimed: { _eq: false } }) {\n          name\n          id\n        }\n        names {\n          name\n          id\n        }\n        started\n        names_frozen\n        active_player {\n          auth_id\n          name\n          id\n        }\n      }\n    }\n  }\n"]);return oe=function(){return e},e}var ue=i.a.createContext({game:void 0,hosting:!1,myTurn:!1}),ce=Object(G.gql)(oe()),se=function(e){var t,n=e.children,a=i.a.useContext(F).auth0Id,r=Object(G.useQuery)(ce,{variables:{userId:a},fetchPolicy:"network-only",pollInterval:2e3}).data,l=(null==r?void 0:r.users)?r.users[0].game:void 0,o=l&&l.host_id===a,u=l&&(null==l||null==(t=l.active_player)?void 0:t.auth_id)===a;return i.a.createElement(ue.Provider,{value:{game:l,hosting:o,myTurn:u}},n)},me=n(208),de="web"===n(28).a.OS?{alert:function(e,t,n){var a=window.confirm([e,t].filter(Boolean).join("\n"));if(a){var r=n.find((function(e){return"cancel"!==e.style}));(null==r?void 0:r.onPress)&&r.onPress()}else{var i=n.find((function(e){return"cancel"===e.style}));(null==i?void 0:i.onPress)&&i.onPress()}}}:me.a,ge=n(84);function fe(){var e=y()(["\n  mutation claimName($game: Int!, $name: Int!, $userId: uuid!, $next_name: Int) {\n    update_names(where: {id: {_eq: $name}}, _set: {claimed: true, claimer_id: $userId}) {\n      returning {\n        id\n      }\n    }\n    update_games(where: {id: {_eq: $game }}, _set: {current_name_id: $next_name}) {\n      returning {\n        id\n        names {\n          id\n        }\n      }\n    }\n}\n"]);return fe=function(){return e},e}function he(){var e=y()(["\n  mutation takeTurn($game: Int!) {\n    update_games(\n      where: { id: { _eq: $game } }\n      _set: { active_player_id: null }\n    ) {\n      returning {\n        id\n        names {\n          name\n        }\n      }\n    }\n  }\n"]);return he=function(){return e},e}var pe=Object(G.gql)(he()),be=Object(G.gql)(fe()),ve=function(){var e,t,n,a,l,o,u=Object(r.useContext)(ue).game,c=Object(r.useContext)(F).isOma,s=Object(G.useMutation)(pe,{variables:{game:u.id},refetchQueries:["getMyGame"]}),m=d()(s,1)[0],g=Object(G.useMutation)(be,{variables:{game:u.id,name:null==u||null==(e=u.current_name)?void 0:e.id,userId:null==u||null==(t=u.active_player)?void 0:t.auth_id,next_name:function(){var e=Object(ge.sample)(u.unclaimed_names.filter((function(e){var t;return e.id!==(null==u||null==(t=u.current_name)?void 0:t.id)})));return null==e?void 0:e.id}()},refetchQueries:["getMyGame"]}),f=d()(g,2),h=f[0],p=f[1].loading;return i.a.createElement(q,{style:ye.container},i.a.createElement(P,{style:{fontSize:100,marginBottom:30}},"\ud83c\udfa9"),i.a.createElement(q,{style:ye.container},p&&i.a.createElement(j.a,null),!!(null==u?void 0:u.current_name)&&!p&&i.a.createElement(i.a.Fragment,null,c&&i.a.createElement(P,{style:{fontSize:32,marginBottom:50}},"Het is jouw beurt, oma!"),c&&i.a.createElement(P,{style:{fontSize:32,marginBottom:150}},"De naam is:"),i.a.createElement(P,{style:ye.randomName},null==u||null==(n=u.current_name)?void 0:n.name)),(null==u||null==(a=u.unclaimed_names)?void 0:a.length)<1&&!p&&i.a.createElement(i.a.Fragment,null,i.a.createElement(P,{style:{fontSize:72,textAlign:"center"}},"\ud83d\udc4d"),i.a.createElement(P,{style:ye.title},"De namen zijn op! Goed gedaan."))),!c&&i.a.createElement(q,{style:{flexDirection:"row"}},i.a.createElement(q,{style:{flex:1}},i.a.createElement(w.a,{disabled:p,onPress:function(){if(!u.current_name)return m();de.alert("Spel verwijderen","Weet je zeker dat je je beurt wilt afsluiten?",[{text:"Nee, nog niet",style:"cancel"},{text:"Ja, klaar!",onPress:function(){m()}}])}},i.a.createElement(q,{style:{minHeight:140,backgroundColor:"#d22461",padding:10,paddingVertical:20,borderRadius:5,borderColor:"purple",borderWidth:1,justifyContent:"space-between",alignItems:"center"}},i.a.createElement(P,{style:{fontSize:32,marginBottom:10}},"\u231b\ufe0f"),i.a.createElement(P,{style:{textAlign:"center",color:"white",fontWeight:"bold"}},"Beurt be\xebindigen")))),(null==u||null==(l=u.unclaimed_names)?void 0:l.length)>0&&i.a.createElement(q,{style:{width:20}}),(null==u||null==(o=u.unclaimed_names)?void 0:o.length)>0&&i.a.createElement(q,{style:{flex:1}},i.a.createElement(w.a,{disabled:p,onPress:function(){return h()}},i.a.createElement(q,{style:{minHeight:140,backgroundColor:"#CEFA05",padding:10,paddingVertical:20,borderRadius:5,borderColor:"purple",borderWidth:1,justifyContent:"space-between",alignItems:"center"}},i.a.createElement(P,{style:{fontSize:32,marginBottom:10}},"\ud83c\udf89"),i.a.createElement(P,{style:{textAlign:"center",color:"purple",fontWeight:"bold"}},"Naam is geraden!"))))))},ye=_.a.create({container:{flex:1,justifyContent:"center",alignItems:"center",paddingVertical:50,paddingHorizontal:15,maxWidth:"100%"},randomName:{fontSize:42,fontWeight:"bold",maxWidth:"100%",textAlign:"center",lineHeight:72},title:{fontSize:20,fontWeight:"bold",marginBottom:15}});function _e(){var e=y()(["\n  mutation resetRound($game: Int!) {\n    update_names(where: {game_id: {_eq: $game}}, _set: {claimed: false, claimer_id: null}) {\n      returning {\n        id\n      }\n    }\n  }\n"]);return _e=function(){return e},e}function Ee(){var e=y()(["\n  mutation takeTurn($game: Int!, $userId: uuid!) {\n    update_games(where: {id: {_eq: $game}}, _set: {active_player_id: $userId}) {\n      returning {\n        id\n      }\n    }\n  }\n"]);return Ee=function(){return e},e}function je(){var e=y()(["\n  mutation setFirstName($game: Int!, $first_name: Int!) {\n    update_games(where: {id: {_eq: $game}}, _set: {current_name_id: $first_name}) {\n      returning {\n        id\n      }\n    }\n  }\n"]);return je=function(){return e},e}function we(){var e=y()(["\n  mutation freezeNames($game: Int!) {\n    update_games(where: {id: {_eq: $game}}, _set: {names_frozen: true}) {\n      returning {\n        id\n      }\n    }\n  }\n"]);return we=function(){return e},e}function Ce(){var e=y()(["\n  mutation createName($game: Int!, $name: String!) {\n    insert_names(objects: {game_id: $game, name: $name}) {\n      returning {\n        id\n      }\n    }\n  }\n"]);return Ce=function(){return e},e}function Oe(){var e=y()(['\n  mutation startGame($game: Int!) {\n    update_games(where: {id: {_eq: $game}}, _set: {started: true}) {\n      returning {\n        id\n      }\n    }\n    update_users(\n      where: {auth0_id_a: {_eq: "Er is maar \xe9\xe9n oma Jo"}},\n      _set: {game_id: $game}\n    ) {\n      returning {\n        id\n      }\n    }\n  }\n']);return Oe=function(){return e},e}function xe(){var e=y()(["\n  mutation destroyGame($game: Int!) {\n    delete_games(where: {id: {_eq: $game}}) {\n      returning {\n        id\n      }\n    }\n  }\n"]);return xe=function(){return e},e}function Ie(){var e=y()(["\n  mutation leaveGame($userId: uuid!) {\n    update_users(where: {auth_id: {_eq: $userId}}, _set: {game_id: null}) {\n      returning {\n        id\n        game_id\n      }\n    }\n  }\n"]);return Ie=function(){return e},e}var ke=Object(G.gql)(Ie()),Se=Object(G.gql)(xe()),$e=Object(G.gql)(Oe()),ze=Object(G.gql)(Ce()),Pe=Object(G.gql)(we()),qe=Object(G.gql)(je()),Me=Object(G.gql)(Ee()),Be=Object(G.gql)(_e()),We=function(){var e,t,n=Object(r.useContext)(F),a=n.auth0Id,l=n.isOma,o=n.omaId,u=Object(r.useContext)(ue),c=u.game,s=u.hosting,m=Object(G.useMutation)(ke,{refetchQueries:["getOpenGames","getMyGame"]}),g=d()(m,1)[0],f=Object(G.useMutation)(Se,{refetchQueries:["getOpenGames","getMyGame"]}),h=d()(f,1)[0],p=Object(G.useMutation)($e,{refetchQueries:["getMyGame"]}),b=d()(p,1)[0],v=Object(G.useMutation)(Pe,{refetchQueries:["getMyGame"]}),y=d()(v,1)[0],_=Object(G.useMutation)(qe,{refetchQueries:["getMyGame"]}),j=d()(_,1)[0],w=Object(G.useMutation)(ze,{refetchQueries:["getMyGame"]}),C=d()(w,1)[0],O=Object(G.useMutation)(Me,{refetchQueries:["getMyGame"]}),x=d()(O,1)[0],I=Object(G.useMutation)(Be,{refetchQueries:["getMyGame"]}),k=d()(I,1)[0],S=Object(r.useState)(""),$=d()(S,2),z=$[0],B=$[1],W=Object(r.useState)(0),A=d()(W,2),N=A[0],Q=A[1],H=Object(G.useMutation)(pe,{variables:{game:c.id}}),D=d()(H,1)[0];return l?i.a.createElement(q,{style:{padding:15,flex:1,justifyContent:"center",alignItems:"center"}},i.a.createElement(P,{style:{fontSize:72}},"\u2615\ufe0f"),i.a.createElement(P,{style:{fontSize:32,textAlign:"center",marginBottom:20}},"Hoi oma, het spel is bezig."),i.a.createElement(P,{style:{fontSize:32,textAlign:"center"}},"Tijdens jouw beurt zie je hier de naam uit de hoed.")):i.a.createElement(q,{style:Ge.container},i.a.createElement(q,null,i.a.createElement(P,{style:Ge.title},"Spel: ",c.name),!c.started&&i.a.createElement(P,null,"\ud83d\udd70 Het spel is nog niet gestart."),c.started&&i.a.createElement(P,null,"\ud83d\ude80 Het spel is gestart!"),i.a.createElement(K,null),i.a.createElement(P,{style:Ge.title},"Spelers:"),c.players.map((function(e){var t=(e.claimed_names||[]).filter((function(e){return e.game_id===c.id})).length;return i.a.createElement(P,{key:e.id.toString()},e.name," (",t," punten)")}))),c.started&&i.a.createElement(q,null,i.a.createElement(P,{style:Ge.nameCountingTitle},"Namen in de \ud83c\udfa9: \xa0",c.names_frozen&&i.a.createElement(P,null,null==c||null==(e=c.unclaimed_names)?void 0:e.length," / "),null==c||null==(t=c.unclaimed_names)?void 0:t.length,"."),!c.names_frozen&&i.a.createElement(q,null,i.a.createElement(q,{style:Ge.row},i.a.createElement(E.a,{style:Ge.textInput,placeholder:"Naam voor in de hoed",value:z,onChangeText:B}),i.a.createElement(M,{title:" + ",onPress:function(){C({variables:{game:c.id,name:z}}),B(""),Q((function(e){return e+1}))}})),i.a.createElement(P,null,"Jij hebt er ",N," toegevoegd.")),c.names_frozen&&!c.active_player&&!!c.unclaimed_names.length&&i.a.createElement(M,{color:"#BA7CC6",title:"Het is mijn beurt, ik ga presenteren.",onPress:function(){x({variables:{game:c.id,userId:a}})}}),s&&c.names_frozen&&!c.active_player&&!!c.unclaimed_names.length&&i.a.createElement(i.a.Fragment,null,i.a.createElement(K,null),i.a.createElement(M,{color:"#BA7CC6",title:"\ud83d\udc75 Geef de beurt aan oma Jo.",onPress:function(){x({variables:{game:c.id,userId:o}})}})),c.names_frozen&&!!c.active_player&&i.a.createElement(P,{style:Ge.title},"\ud83d\udd7a ",c.active_player.name," is aan het presenteren."),s&&c.names_frozen&&!!c.active_player&&c.active_player.auth_id===o&&i.a.createElement(i.a.Fragment,null,i.a.createElement(K,null),i.a.createElement(M,{color:"#BA7CC6",title:"\ud83d\udc75 Oma is klaar.",onPress:function(){D()}})),c.names_frozen&&!c.unclaimed_names.length&&i.a.createElement(P,null,"De maker van het spel kan een nieuwe ronde starten. Vergeet niet de puntentelling op te schrijven!")),i.a.createElement(q,null,s&&!c.started&&i.a.createElement(M,{color:"#BA7CC6",title:"Starten",onPress:function(){de.alert("Spel starten","Weet je zeker dat je het spel wilt starten? Er kunnen daarna geen spelers meer bij.",[{text:"Nee, nog niet",style:"cancel"},{text:"Ja, starten maar!",onPress:function(){b({variables:{game:c.id}})}}])}}),s&&c.started&&!c.names_frozen&&i.a.createElement(M,{color:"#BA7CC6",title:"Hoed sluiten",onPress:function(){de.alert("Hoed sluiten","Weet je zeker dat je de hoed wilt sluiten? Er kunnen daarna geen namen meer bij.",[{text:"Nee, nog niet",style:"cancel"},{text:"Ja, sluiten maar!",onPress:function(){y({variables:{game:c.id}}).then((function(){j({variables:{game:c.id,first_name:Object(ge.sample)(c.unclaimed_names).id}})}))}}])}}),s&&c.names_frozen&&!c.unclaimed_names.length&&i.a.createElement(M,{color:"#BA7CC6",title:"Nieuwe ronde starten",onPress:function(){de.alert("Nieuwe ronde starten","In de nieuwe ronde gaan alle namen weer terug de hoed in. Zorg dat de scores opgeschreven staan.",[{text:"Nee, nog niet",style:"cancel"},{text:"Ja, herstarten maar!",onPress:function(){k({variables:{game:c.id}}).then((function(){j({variables:{game:c.id,first_name:Object(ge.sample)(c.names).id}})}))}}])}}),i.a.createElement(K,null),s&&i.a.createElement(M,{color:"#d22461",title:"Spel verwijderen",onPress:function(){de.alert("Spel verwijderen","Weet je zeker dat je het spel wilt verwijderen?",[{text:"Nee, toch niet",style:"cancel"},{text:"Ja, weg ermee",onPress:function(){h({variables:{game:c.id}})}}])}}),!s&&!c.started&&i.a.createElement(M,{color:"#d22461",title:"Spel verlaten",onPress:function(){de.alert("Spel verlaten","Weet je zeker dat je het spel wilt verlaten?",[{text:"Nee, ik blijf",style:"cancel"},{text:"Ja, ik ga",onPress:function(){g({variables:{userId:a}})}}])}})))},Ge=_.a.create({container:{flex:1,justifyContent:"space-between",paddingHorizontal:15,paddingVertical:50},title:{fontSize:20,fontWeight:"bold",marginBottom:15},row:{flexDirection:"row",width:"100%",marginBottom:10},separator:{marginVertical:30,height:1,width:"80%"},gameListItem:{padding:15,borderWidth:1,borderColor:"purple",flex:1,marginVertical:5,flexDirection:"row",justifyContent:"space-between"},textInput:{padding:10,marginRight:10,borderWidth:1,borderColor:"blue",flex:1},flatList:{flex:1,backgroundColor:"#FFE3EC",width:"100%"},playButton:{backgroundColor:"#BA7CC6",justifyContent:"center",alignItems:"center"},nameCountingTitle:{fontSize:24,fontWeight:"bold",marginBottom:15}}),Ae=function(){var e,t=Object(r.useContext)(ue),n=t.game,a=t.myTurn,l=t.hosting,o=Object(r.useContext)(F).omaId;return a||l&&(null==n||null==(e=n.active_player)?void 0:e.auth_id)===o?i.a.createElement(ve,null):n?i.a.createElement(We,null):i.a.createElement(ie,null)};function Ne(){return function(){var e=r.useState(!1),t=d()(e,2),a=t[0],i=t[1];return r.useEffect((function(){u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h.b(),e.next=4,u.a.awrap(f.b(b(b({},g.a.font),{},{"space-mono":n(342)})));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.warn(e.t0);case 9:return e.prev=9,i(!0),h.a(),e.finish(9);case 13:case"end":return e.stop()}}),null,null,[[0,6,9,13]],Promise)}),[]),a}()?i.a.createElement(l.a,null,i.a.createElement(V,null,i.a.createElement(T,null,i.a.createElement(se,null,i.a.createElement(Ae,null)))),i.a.createElement(a.StatusBar,null)):null}},219:function(e,t,n){n(220),e.exports=n(359)},220:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/hoedspel/expo-service-worker.js",{scope:"/hoedspel/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))},342:function(e,t,n){e.exports=n.p+"./fonts/SpaceMono-Regular.ttf"}},[[219,1,2]]]);
//# sourceMappingURL=app.d5bd282e.chunk.js.map