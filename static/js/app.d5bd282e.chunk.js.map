{"version":3,"sources":["constants/Colors.ts","components/Themed.tsx","providers/Auth0Provider.tsx","providers/ApolloProvider.tsx","components/Divider.tsx","screens/LobbyScreen.tsx","providers/GameProvider.tsx","components/Alert.tsx","screens/TurnScreen.tsx","screens/GameScreen.tsx","App.tsx","hooks/useCachedResources.ts","web-build/register-service-worker.js","assets/fonts/SpaceMono-Regular.ttf"],"names":["light","text","background","tint","tabIconDefault","tabIconSelected","dark","useThemeColor","props","colorName","colorFromProps","Colors","Text","style","lightColor","darkColor","otherProps","color","View","backgroundColor","Button","onPress","title","disabled","TouchableOpacity","undefined","width","padding","borderWidth","borderColor","alignItems","justifyContent","fontWeight","NEW_USER","gql","GET_USER","GET_OMA","Auth0Context","React","token","name","auth0Id","isAuthorized","isOma","logout","omaId","Auth0Provider","children","setName","setToken","setAuth0Id","setIsAuthorized","setIsOma","data","useQuery","users","auth_id","useMutation","onCompleted","response","newUserObject","insert_users","returning","storeToken","newUser","loading","useLazyQuery","fetchPolicy","user","auth0_id_a","getUser","loadingUser","oma","getOma","loadingOma","receivedToken","a","async","console","log","AsyncStorage","setItem","getItem","value","variables","getToken","ActivityIndicator","styles","container","Provider","removeItem","e","then","buttonContainer","marginBottom","fontSize","TextInput","textInput","onChangeText","placeholder","randomness","Date","now","toString","borderRadius","marginTop","paddingHorizontal","StyleSheet","create","flex","height","AuthorizedApolloProvider","useContext","client","userId","link","HttpLink","uri","ApolloClient","cache","InMemoryCache","createApolloClient","Divider","separator","marginVertical","GET_OPEN_GAMES","CREATE_NEW_GAME","JOIN_GAME","GameListItem","game","refetchQueries","joinGame","gameListItem","players","map","player","join","id","LobbyScreen","newGameName","setNewGameName","omaLogoutCount","setOmaLogoutCount","pollInterval","result","insert_games","createGame","openGames","games","count","textAlign","row","FlatList","flatList","renderItem","item","keyExtractor","paddingVertical","Dimensions","get","flexDirection","marginRight","playButton","GameContext","createContext","hosting","myTurn","GET_MY_GAME","GameProvider","host_id","active_player","Alert","Platform","OS","alert","description","options","window","confirm","filter","Boolean","confirmOption","find","cancelOption","RNAlert","END_TURN","CLAIM_NAME","TurnScreen","endTurn","current_name","next_name","nextName","sample","unclaimed_names","getNextNameId","claimName","randomName","length","minHeight","maxWidth","lineHeight","LEAVE_GAME","DESTROY_GAME","START_GAME","CREATE_NAME","FREEZE_NAMES","SET_FIRST_NAME","TAKE_TURN","RESET_ROUND","GameScreen","leaveGame","destroyGame","startGame","freezeNames","setFirstName","createName","takeTurn","resetRound","useState","newName","setNewName","nameContribution","setNameContribution","started","score","claimed_names","claimedName","game_id","key","nameCountingTitle","names_frozen","previousContribution","first_name","names","AppContent","App","isLoadingComplete","setLoadingComplete","SplashScreen","Font","Ionicons","font","require","warn","useCachedResources","StatusBar","navigator","addEventListener","serviceWorker","register","scope","info","catch","error","module","exports"],"mappings":"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","file":"static/js/app.d5bd282e.chunk.js","sourcesContent":["const tintColorLight = '#2f95dc';\nconst tintColorDark = '#fff';\n\nexport default {\n  light: {\n    text: '#000',\n    background: '#fff',\n    tint: tintColorLight,\n    tabIconDefault: '#ccc',\n    tabIconSelected: tintColorLight,\n  },\n  dark: {\n    text: '#fff',\n    background: '#000',\n    tint: tintColorDark,\n    tabIconDefault: '#ccc',\n    tabIconSelected: tintColorDark,\n  },\n};\n","import * as React from 'react';\nimport { Text as DefaultText, View as DefaultView, TouchableOpacity } from 'react-native';\n\nimport Colors from '../constants/Colors';\nimport useColorScheme from '../hooks/useColorScheme';\n\nexport function useThemeColor(\n  props: { light?: string; dark?: string },\n  colorName: keyof typeof Colors.light & keyof typeof Colors.dark\n) {\n  const theme = 'light'; // useColorScheme();\n  const colorFromProps = props[theme];\n\n  if (colorFromProps) {\n    return colorFromProps;\n  } else {\n    return Colors[theme][colorName];\n  }\n}\n\ntype ThemeProps = {\n  lightColor?: string;\n  darkColor?: string;\n};\n\nexport type TextProps = ThemeProps & DefaultText['props'];\nexport type ViewProps = ThemeProps & DefaultView['props'];\n\nexport function Text(props: TextProps) {\n  const { style, lightColor, darkColor, ...otherProps } = props;\n  const color = useThemeColor({ light: lightColor, dark: darkColor }, 'text');\n\n  return <DefaultText style={[{ color }, style]} {...otherProps} />;\n}\n\nexport function View(props: ViewProps) {\n  const { style, lightColor, darkColor, ...otherProps } = props;\n  const backgroundColor = useThemeColor({ light: lightColor, dark: darkColor }, 'background');\n\n  return <DefaultView style={[{ backgroundColor }, style]} {...otherProps} />;\n}\n\nexport function Button({ color = \"#BA7CC6\", onPress, title, disabled }) {\n  return (\n      <TouchableOpacity onPress={disabled ? undefined : onPress}>\n        <View style={{ backgroundColor: color, width: '100%', padding: 10, borderWidth: 1, borderColor: '#333', alignItems: 'center', justifyContent: 'center' }}>\n          <Text style={{ color: 'white', fontWeight: 'bold'}}>{title}</Text>\n        </View>\n      </TouchableOpacity>\n  )\n}\n","import * as React from \"react\";\nimport { StyleSheet, TextInput, ActivityIndicator, TouchableOpacity } from \"react-native\";\nimport { Text, View, Button } from \"../components/Themed\";\nimport AsyncStorage from '@react-native-community/async-storage';\nimport { gql, useMutation, useLazyQuery, useQuery } from \"@apollo/client\";\n\nconst NEW_USER = gql`\n  mutation newUser($name: String!, $randomness: String!) {\n    insert_users(objects: {name: $name, auth0_id_a: $randomness }) {\n      returning {\n        auth_id\n        name\n      }\n    }\n  }\n`\n\nconst GET_USER = gql`\n  query getUser($token: uuid!) {\n    users(where: { auth_id: {_eq: $token} }) {\n      auth_id\n      name\n      auth0_id_a\n    }\n  }\n`;\n\nconst GET_OMA = gql`\n  query getUser {\n    users(where: { auth0_id_a: {_eq: \"Er is maar één oma Jo\"} }) {\n      auth_id\n      name\n    }\n  }\n`;\n\nexport interface IAuth0Context {\n  token: string;\n  name: string;\n  auth0Id: string;\n  isAuthorized: boolean;\n  isOma: boolean;\n  logout: () => void;\n  omaId: string;\n}\n\nexport const Auth0Context = React.createContext<IAuth0Context>({\n  token: \"\",\n  name: \"\",\n  auth0Id: \"\",\n  isAuthorized: false,\n  isOma: false,\n  logout: () => {},\n  omaId: \"\"\n});\n\nexport const Auth0Provider: React.FC = ({ children }) => {\n  const [name, setName] = React.useState('');\n  const [token, setToken] = React.useState('');\n  const [auth0Id, setAuth0Id] = React.useState('');\n  const [isAuthorized, setIsAuthorized] = React.useState(false)\n  const [isOma, setIsOma] = React.useState(false)\n\n  const { data } = useQuery(GET_OMA)\n  const omaId = data?.users[0].auth_id || \"\"\n\n  const [newUser, { loading }] = useMutation(NEW_USER, {\n    onCompleted: (response) => {\n      const newUserObject = response?.insert_users?.returning[0];\n\n      setAuth0Id(newUserObject.auth_id);\n      setIsAuthorized(true);\n      storeToken(newUserObject.auth_id);\n    },\n  });\n\n  const [getUser, { loading: loadingUser }] = useLazyQuery(GET_USER, { fetchPolicy: 'network-only', onCompleted: (response) => {\n      const user = response?.users[0];\n\n      setAuth0Id(user.auth_id);\n      setName(user.name);\n      setIsAuthorized(true);\n\n    if (user.auth0_id_a === \"Er is maar één oma Jo\") {\n      setIsOma(true)\n    }\n    },\n  });\n\n  const  [getOma, { loading: loadingOma }] = useLazyQuery(GET_OMA, { fetchPolicy: 'network-only', onCompleted: (response) => {\n    const oma = response?.users[0];\n\n    setAuth0Id(oma.auth_id);\n    setName(oma.name);\n    setIsOma(true);\n    setIsAuthorized(true);\n    storeToken(oma.auth_id);\n  }})\n\n  const createNewUser = () => {\n    newUser({ variables: { name, randomness: \"💩\" + Date.now().toString() } });\n  }\n\n  const storeToken = async (receivedToken: string) => {\n    console.log(receivedToken)\n    try {\n      await AsyncStorage.setItem(\"@token\", receivedToken);\n    } catch (e) {\n      console.log(\"could not save token\");\n    }\n  };\n\n  const getToken = async () => {\n    try {\n      const value = await AsyncStorage.getItem(\"@token\");\n      if (value !== null) {\n        getUser({variables: { token: value }})\n      }\n    } catch (e) {\n      console.log(\"could not retrieve token\");\n    }\n  };\n\n  const destroyToken = async () => {\n    try {\n      AsyncStorage.removeItem(\"@token\");\n    } catch (e) {\n      console.log(\"could not remove token\");\n    }\n  }\n\n  const logout = () => {\n    destroyToken().then(() => {\n      setAuth0Id('')\n      setName('')\n      setIsAuthorized(false)\n      setIsOma(false)\n      setToken('')\n    })\n  }\n\n  React.useEffect(() => {\n    if (!token) getToken()\n  }, [])\n\n  if (loadingUser) return <ActivityIndicator />\n\n  return (\n    <View style={styles.container}>\n      <Auth0Context.Provider value={{ token, name, auth0Id, isAuthorized, isOma, logout, omaId }}>\n        {isAuthorized ? (\n          children\n        ) : (\n          <View style={styles.buttonContainer}>\n\n            <Text style={{marginBottom: 50, fontSize: 100}}>🎩</Text>\n            <TextInput style={styles.textInput} value={name} onChangeText={setName} placeholder=\"Je naam\" />\n            <Button\n              disabled={loading || name === ''}\n              title=\"Spelen maar!\"\n              onPress={createNewUser}\n            />\n              <TouchableOpacity\n                disabled={loadingOma}\n                onPress={() => getOma()}\n              >\n                <View style={{ borderRadius: 5, marginTop: 50, backgroundColor: '#CEFA05', padding: 10, paddingHorizontal: 25,  borderColor: 'grey', borderWidth: 1}}>\n\n                <Text style={{ fontSize: 32 }}>👵 Ik ben oma Jo</Text>\n                </View>\n              </TouchableOpacity>\n          </View>\n        )}\n      </Auth0Context.Provider>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  buttonContainer: {\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    height: \"100%\",\n  },\n  textInput: {\n    padding: 10,\n    borderWidth: 1,\n    borderColor: \"blue\",\n    marginBottom: 15\n  },\n});\n","import React, { useContext } from \"react\";\nimport { ApolloClient, InMemoryCache, ApolloProvider, HttpLink, NormalizedCacheObject } from \"@apollo/client\";\nimport { Auth0Context } from \"./Auth0Provider\";\n\nconst createApolloClient = (\n  token: string,\n  userId: string\n): ApolloClient<NormalizedCacheObject> => {\n  const link = new HttpLink({\n    uri: \"https://sweeping-jay-28.hasura.app/v1/graphql\",\n    // headers: {\n    //   // Authorization: `Bearer ${token}`,\n    //   // 'X-Hasura-Role': 'user',\n    //   // 'X-Hasura-User-Id': userId\n    // },\n  });\n  return new ApolloClient({\n    link,\n    cache: new InMemoryCache(),\n  });\n};\n\n\nexport const AuthorizedApolloProvider: React.FC = ({ children }) => {\n  const { token, auth0Id } = useContext(Auth0Context)\n  const client = createApolloClient(token, auth0Id);\n\n  return (\n    <ApolloProvider client={client}>\n      {children}\n    </ApolloProvider>\n  )\n}\n","import React from 'react'\nimport { StyleSheet } from \"react-native\";\nimport { View } from './Themed';\n\nexport const Divider: React.FC = () => <View style={styles.separator} lightColor=\"#eee\" darkColor=\"rgba(255,255,255,0.1)\" />\n\nconst styles = StyleSheet.create({\n  separator: {\n    marginVertical: 30,\n    height: 1,\n    width: '80%',\n  }\n})\n","import * as React from 'react';\nimport { StyleSheet, ActivityIndicator, TextInput, FlatList, Dimensions, TouchableOpacity } from 'react-native';\n\nimport { Text, View, Button } from '../components/Themed';\nimport { gql, useQuery, useMutation } from \"@apollo/client\";\nimport { Auth0Context } from '../providers/Auth0Provider';\nimport { Divider } from '../components/Divider';\n\nconst GET_OPEN_GAMES = gql`\n  query getOpenGames {\n    games(where: {started: {_eq: false}}) {\n      id\n      name\n      players {\n        name\n      }\n    }\n  }\n`;\n\nconst CREATE_NEW_GAME = gql`\n  mutation createGame($name: String!, $userId: uuid!) {\n    insert_games(objects: {name: $name, host_id: $userId}) {\n      returning {\n        name\n        id\n      }\n    }\n  }\n`;\n\nconst JOIN_GAME = gql`\n  mutation joinGame($game: Int!, $userId: uuid!) {\n    update_users(where: {auth_id: {_eq: $userId}}, _set: {game_id: $game}) {\n      returning {\n        game_id\n        id\n      }\n    }\n  }\n`\n\n\nconst GameListItem = ({ game }) => {\n  const { auth0Id } = React.useContext(Auth0Context)\n  const [joinGame] = useMutation(JOIN_GAME, { refetchQueries: ['getOpenGames', 'getMyGame'] })\n\n  return (\n    <View style={styles.gameListItem}>\n      <View>\n        <Text style={styles.title}>{game.name}</Text>\n        <Text>{game.players.map((player) => player.name).join(', ')}</Text>\n      </View>\n      <View>\n        <Button color=\"#BA7CC6\" title=\"meedoen\" onPress={() => {\n          joinGame({ variables: { game: game.id, userId: auth0Id }})\n        }} />\n      </View>\n    </View>\n  )\n}\n\nexport default function LobbyScreen() {\n  const [newGameName, setNewGameName] = React.useState('')\n  const { name, auth0Id, isOma, logout } = React.useContext(Auth0Context)\n  const [omaLogoutCount, setOmaLogoutCount] = React.useState(1)\n  const { loading, data } = useQuery(GET_OPEN_GAMES, { pollInterval: 5000 });\n  const [joinGame] = useMutation(JOIN_GAME, { refetchQueries: ['getOpenGames', 'getMyGame'] })\n  const [createGame] = useMutation(\n    CREATE_NEW_GAME,\n    {\n      refetchQueries: ['getOpenGames'],\n      onCompleted: (result) => {\n        // Join the game you created\n        joinGame({ variables: { game: result?.insert_games?.returning[0]?.id, userId: auth0Id }})\n      }\n    }\n  )\n\n  const openGames = data?.games ?? []\n\n  const createNewGame = () => {\n    createGame({ variables: { name: newGameName, userId: auth0Id }})\n  }\n\n  const logoutOma = () => {\n    if (omaLogoutCount >= 7) {\n      setOmaLogoutCount(1)\n      logout()\n      return\n    }\n\n    setOmaLogoutCount((count) => count + 1)\n  }\n\n  if (isOma) {\n    return (\n      <View style={styles.container}>\n        <TouchableOpacity onPress={logoutOma}>\n\n        <Text style={{fontSize: 72}}>🕰</Text>\n        </TouchableOpacity>\n        <Text style={{fontSize: 32, textAlign: 'center'}}>Even wachten oma, het spel begint zo!</Text>\n      </View>\n    )\n  }\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.row}>\n        <Text style={styles.title}>Hoi {name}!</Text>\n        <TouchableOpacity onPress={logout}>\n          <Text>🚪🏃‍♂️</Text>\n        </TouchableOpacity>\n      </View>\n\n\n      <Text>Kies een spel om aan mee te doen:</Text>\n\n      {loading && <ActivityIndicator />}\n\n      <FlatList\n        style={styles.flatList}\n        data={openGames}\n        renderItem={({item}) => <GameListItem game={item} />}\n        keyExtractor={(item) => item.id.toString()}\n      />\n\n      <Divider />\n\n      <Text style={styles.title}>Of maak een nieuw spel aan:</Text>\n\n      <View style={styles.row}>\n        <TextInput\n          style={styles.textInput}\n          placeholder=\"Naam voor een nieuw spel\"\n          value={newGameName}\n          onChangeText={setNewGameName}\n        />\n        <Button title=\" + \" onPress={createNewGame} />\n      </View>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingVertical: 50,\n    paddingHorizontal: 15,\n    height: Dimensions.get(\"window\").height\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 15\n  },\n  row: {\n    flexDirection: 'row',\n    width: '100%',\n    justifyContent: 'space-between'\n  },\n  gameListItem: {\n    padding: 15,\n    borderWidth: 1,\n    borderColor: 'purple',\n    flex: 1,\n    marginVertical: 5,\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  },\n  textInput: {\n    padding: 10,\n    marginRight: 10,\n    borderWidth: 1,\n    borderColor: 'blue',\n    flex: 1,\n  },\n  flatList: {\n    backgroundColor: '#FFE3EC',\n    width: '100%',\n    borderWidth: 1,\n    borderColor: '#FFE3EC'\n  },\n  playButton: {\n    backgroundColor: '#BA7CC6',\n    justifyContent: 'center',\n    alignItems: 'center'\n  }\n});\n","import React, { useEffect } from \"react\";\nimport { gql, useQuery, useLazyQuery } from \"@apollo/client\";\nimport { Auth0Context } from \"./Auth0Provider\";\n\nexport interface IGameContext {\n  game?: unknown\n  hosting: boolean\n  myTurn: boolean\n}\n\nexport const GameContext = React.createContext<IGameContext>({\n  game: undefined,\n  hosting: false,\n  myTurn: false\n});\n\nconst GET_MY_GAME = gql`\n  query getMyGame($userId: uuid!) {\n    users(where: { auth_id: { _eq: $userId } }) {\n      id\n      game {\n        host_id\n        id\n        name\n        current_name {\n          id\n          name\n        }\n        players {\n          name\n          id\n          claimed_names {\n            id\n            game_id\n          }\n        }\n        unclaimed_names:names(where: { claimed: { _eq: false } }) {\n          name\n          id\n        }\n        names {\n          name\n          id\n        }\n        started\n        names_frozen\n        active_player {\n          auth_id\n          name\n          id\n        }\n      }\n    }\n  }\n`;\n\nexport const GameProvider: React.FC = ({ children }) => {\n  const { auth0Id } = React.useContext(Auth0Context)\n  const {data} = useQuery(GET_MY_GAME, { variables: { userId: auth0Id }, fetchPolicy: 'network-only', pollInterval: 2000})\n  const game = data?.users ? data.users[0].game : undefined\n  const hosting = game && game.host_id === auth0Id\n  const myTurn = game && game?.active_player?.auth_id === auth0Id\n\n  return (\n    <GameContext.Provider value={{ game, hosting, myTurn }}>\n      {children}\n    </GameContext.Provider>\n  )\n}\n","import { Alert as RNAlert, Platform } from 'react-native'\n\nconst alertPolyfill = (title, description, options, extra = '') => {\n  const result = window.confirm([title, description].filter(Boolean).join('\\n'))\n\n  if (result) {\n    const confirmOption = options.find(({ style }) => style !== 'cancel')\n    confirmOption?.onPress && confirmOption.onPress()\n  } else {\n    const cancelOption = options.find(({ style }) => style === 'cancel')\n    cancelOption?.onPress && cancelOption.onPress()\n  }\n}\n\nexport const Alert = Platform.OS === 'web' ? { alert: alertPolyfill } : RNAlert\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { StyleSheet, ActivityIndicator, TouchableOpacity } from 'react-native'\nimport { sample } from 'lodash'\nimport { View, Text, Button } from \"../components/Themed\"\nimport { GameContext } from '../providers/GameProvider'\nimport { gql, useMutation } from '@apollo/client'\nimport { Auth0Context } from '../providers/Auth0Provider'\nimport { Alert } from '../components/Alert'\n\nexport const END_TURN = gql`\n  mutation takeTurn($game: Int!) {\n    update_games(\n      where: { id: { _eq: $game } }\n      _set: { active_player_id: null }\n    ) {\n      returning {\n        id\n        names {\n          name\n        }\n      }\n    }\n  }\n`\n\nconst CLAIM_NAME = gql`\n  mutation claimName($game: Int!, $name: Int!, $userId: uuid!, $next_name: Int) {\n    update_names(where: {id: {_eq: $name}}, _set: {claimed: true, claimer_id: $userId}) {\n      returning {\n        id\n      }\n    }\n    update_games(where: {id: {_eq: $game }}, _set: {current_name_id: $next_name}) {\n      returning {\n        id\n        names {\n          id\n        }\n      }\n    }\n}\n`;\n\nexport const TurnScreen = () => {\n  const { game } = useContext(GameContext)\n\n  const getNextNameId = () => {\n    const nextName = sample(game.unclaimed_names.filter((name) => name.id !== game?.current_name?.id))\n    return nextName?.id\n  }\n\n  const { isOma } = useContext(Auth0Context)\n  const [endTurn] = useMutation(END_TURN, {\n    variables: { game: game.id },\n    refetchQueries: ['getMyGame']\n  })\n  const [claimName, { loading }] = useMutation(CLAIM_NAME, {\n    variables: { game: game.id, name: game?.current_name?.id, userId: game?.active_player?.auth_id, next_name: getNextNameId() },\n    refetchQueries: [\"getMyGame\"],\n  });\n\n  const onEndTurnPress = () => {\n    if (!game.current_name) { return endTurn() }\n\n    Alert.alert(\n      \"Spel verwijderen\",\n      \"Weet je zeker dat je je beurt wilt afsluiten?\",\n      [\n        {\n          text: 'Nee, nog niet',\n          style: 'cancel'\n        },\n        {\n          text: 'Ja, klaar!',\n          onPress: () => {\n            endTurn()\n          }\n        }\n      ]\n    )\n  }\n\n  return (\n    <View style={styles.container}>\n\n      <Text style={{fontSize: 100, marginBottom: 30}}>🎩</Text>\n\n      <View style={styles.container}>\n        {loading && <ActivityIndicator />}\n        {!!game?.current_name && !loading && (\n          <>\n            {isOma && <Text style={{fontSize: 32, marginBottom: 50}}>Het is jouw beurt, oma!</Text>}\n            {isOma && <Text style={{fontSize: 32, marginBottom: 150}}>De naam is:</Text>}\n            <Text style={styles.randomName}>{game?.current_name?.name}</Text>\n          </>\n        )}\n        {game?.unclaimed_names?.length < 1 && !loading && (\n          <>\n            <Text style={{ fontSize: 72, textAlign: 'center'}}>👍</Text>\n            <Text style={styles.title}>De namen zijn op! Goed gedaan.</Text>\n          </>\n        )}\n      </View>\n\n      {!isOma && (<View style={{ flexDirection: 'row' }}>\n\n        <View style={{ flex: 1 }}>\n          <TouchableOpacity disabled={loading} onPress={onEndTurnPress} >\n            <View style={{ minHeight: 140, backgroundColor: \"#d22461\", padding: 10, paddingVertical: 20, borderRadius: 5, borderColor: 'purple', borderWidth: 1, justifyContent: 'space-between', alignItems: 'center'}}>\n\n              <Text style={{fontSize: 32, marginBottom: 10}}>⌛️</Text>\n              <Text style={{ textAlign: 'center', color: 'white', fontWeight: 'bold'}}>Beurt beëindigen</Text>\n            </View>\n          </TouchableOpacity>\n        </View>\n\n        {game?.unclaimed_names?.length > 0 && <View style={{width: 20}} />}\n\n        {game?.unclaimed_names?.length > 0 && <View style={{ flex: 1 }}>\n          <TouchableOpacity disabled={loading} onPress={() => claimName()} >\n            <View style={{ minHeight: 140, backgroundColor: \"#CEFA05\", padding: 10, paddingVertical: 20, borderRadius: 5, borderColor: 'purple', borderWidth: 1, justifyContent: 'space-between', alignItems: 'center' }}>\n\n              <Text style={{ fontSize: 32, marginBottom: 10 }}>🎉</Text>\n              <Text style={{ textAlign: 'center', color: 'purple', fontWeight: 'bold' }}>Naam is geraden!</Text>\n            </View>\n          </TouchableOpacity>\n        </View>}\n      </View>)}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    paddingVertical: 50,\n    paddingHorizontal: 15,\n    maxWidth: '100%'\n  },\n  randomName: {\n    fontSize: 42,\n    fontWeight: \"bold\",\n    maxWidth: '100%',\n    textAlign: 'center',\n    lineHeight: 72,\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: \"bold\",\n    marginBottom: 15,\n  },\n});\n","import React, { useContext, useState } from 'react'\nimport { StyleSheet, TextInput } from 'react-native'\nimport { Text, View, Button } from '../components/Themed';\nimport { GameContext } from '../providers/GameProvider'\nimport { Divider } from '../components/Divider';\nimport { gql, useMutation } from '@apollo/client';\nimport { Alert } from '../components/Alert';\nimport { Auth0Context } from '../providers/Auth0Provider';\nimport { END_TURN } from './TurnScreen';\nimport { sample } from 'lodash';\n\nconst LEAVE_GAME = gql`\n  mutation leaveGame($userId: uuid!) {\n    update_users(where: {auth_id: {_eq: $userId}}, _set: {game_id: null}) {\n      returning {\n        id\n        game_id\n      }\n    }\n  }\n`\n\nconst DESTROY_GAME = gql`\n  mutation destroyGame($game: Int!) {\n    delete_games(where: {id: {_eq: $game}}) {\n      returning {\n        id\n      }\n    }\n  }\n`\n\nconst START_GAME = gql`\n  mutation startGame($game: Int!) {\n    update_games(where: {id: {_eq: $game}}, _set: {started: true}) {\n      returning {\n        id\n      }\n    }\n    update_users(\n      where: {auth0_id_a: {_eq: \"Er is maar één oma Jo\"}},\n      _set: {game_id: $game}\n    ) {\n      returning {\n        id\n      }\n    }\n  }\n`\n\nconst CREATE_NAME = gql`\n  mutation createName($game: Int!, $name: String!) {\n    insert_names(objects: {game_id: $game, name: $name}) {\n      returning {\n        id\n      }\n    }\n  }\n`\n\nconst FREEZE_NAMES = gql`\n  mutation freezeNames($game: Int!) {\n    update_games(where: {id: {_eq: $game}}, _set: {names_frozen: true}) {\n      returning {\n        id\n      }\n    }\n  }\n`\n\nconst SET_FIRST_NAME = gql`\n  mutation setFirstName($game: Int!, $first_name: Int!) {\n    update_games(where: {id: {_eq: $game}}, _set: {current_name_id: $first_name}) {\n      returning {\n        id\n      }\n    }\n  }\n`\n\nconst TAKE_TURN = gql`\n  mutation takeTurn($game: Int!, $userId: uuid!) {\n    update_games(where: {id: {_eq: $game}}, _set: {active_player_id: $userId}) {\n      returning {\n        id\n      }\n    }\n  }\n`\n\nconst RESET_ROUND = gql`\n  mutation resetRound($game: Int!) {\n    update_names(where: {game_id: {_eq: $game}}, _set: {claimed: false, claimer_id: null}) {\n      returning {\n        id\n      }\n    }\n  }\n`;\n\nexport const GameScreen: React.FC = () => {\n  const { auth0Id, isOma, omaId } = useContext(Auth0Context)\n  const { game, hosting } = useContext(GameContext)\n  const [leaveGame] = useMutation(LEAVE_GAME, { refetchQueries: ['getOpenGames', 'getMyGame'] })\n  const [destroyGame] = useMutation(DESTROY_GAME, { refetchQueries: ['getOpenGames', 'getMyGame'] })\n  const [startGame] = useMutation(START_GAME, { refetchQueries: ['getMyGame'] })\n  const [freezeNames] = useMutation(FREEZE_NAMES, { refetchQueries: ['getMyGame'] })\n  const [setFirstName] = useMutation(SET_FIRST_NAME, { refetchQueries: ['getMyGame'] })\n  const [createName] = useMutation(CREATE_NAME, { refetchQueries: ['getMyGame'] })\n  const [takeTurn] = useMutation(TAKE_TURN, { refetchQueries: ['getMyGame'] })\n  const [resetRound] = useMutation(RESET_ROUND, { refetchQueries: ['getMyGame'] })\n  const [newName, setNewName] = useState('')\n  const [nameContribution, setNameContribution] = useState(0)\n  const [endTurn] = useMutation(END_TURN, { variables: { game: game.id}})\n\n  const onLeaveGamePress = () => {\n    Alert.alert(\n      \"Spel verlaten\",\n      \"Weet je zeker dat je het spel wilt verlaten?\",\n      [\n        {\n          text: 'Nee, ik blijf',\n          style: 'cancel'\n        },\n        {\n          text: 'Ja, ik ga',\n          onPress: () => {\n            leaveGame({\n              variables: { userId: auth0Id },\n            })\n          }\n        }\n      ]\n    )\n  }\n\n  const onDestroyGamePress = () => {\n    Alert.alert(\n      \"Spel verwijderen\",\n      \"Weet je zeker dat je het spel wilt verwijderen?\",\n      [\n        {\n          text: 'Nee, toch niet',\n          style: 'cancel'\n        },\n        {\n          text: 'Ja, weg ermee',\n          onPress: () => {\n            destroyGame({\n              variables: { game: game.id },\n            })\n          }\n        }\n      ]\n    )\n  }\n\n  const onStartGamePress = () => {\n    Alert.alert(\n      \"Spel starten\",\n      \"Weet je zeker dat je het spel wilt starten? Er kunnen daarna geen spelers meer bij.\",\n      [\n        {\n          text: 'Nee, nog niet',\n          style: 'cancel'\n        },\n        {\n          text: 'Ja, starten maar!',\n          onPress: () => {\n            startGame({\n              variables: { game: game.id },\n            })\n          }\n        }\n      ]\n    )\n  }\n\n  const onFreezeNamesPress = () => {\n    Alert.alert(\n      \"Hoed sluiten\",\n      \"Weet je zeker dat je de hoed wilt sluiten? Er kunnen daarna geen namen meer bij.\",\n      [\n        {\n          text: 'Nee, nog niet',\n          style: 'cancel'\n        },\n        {\n          text: 'Ja, sluiten maar!',\n          onPress: () => {\n            freezeNames({\n              variables: { game: game.id },\n            }).then(() => {\n              setFirstName({ variables: { game: game.id, first_name: sample(game.unclaimed_names).id }})\n            })\n          }\n        }\n      ]\n    )\n  }\n\n  const onCreateNamePress = () => {\n    createName({ variables: {game: game.id, name: newName}})\n    setNewName('')\n    setNameContribution((previousContribution) => previousContribution + 1)\n  }\n\n  const onTakeTurnPress = () => {\n    takeTurn({variables: { game: game.id, userId: auth0Id}})\n  }\n\n  const onOmaTurnPress = () => {\n    takeTurn({variables: { game: game.id, userId: omaId}})\n  }\n\n  const onEndTurnPress = () => {\n    endTurn()\n  }\n\n  const onResetRoundPress = () => {\n    Alert.alert(\n      \"Nieuwe ronde starten\",\n      \"In de nieuwe ronde gaan alle namen weer terug de hoed in. Zorg dat de scores opgeschreven staan.\",\n      [\n        {\n          text: \"Nee, nog niet\",\n          style: \"cancel\",\n        },\n        {\n          text: \"Ja, herstarten maar!\",\n          onPress: () => {\n            resetRound({\n              variables: { game: game.id },\n            }).then(() => {\n              setFirstName({ variables: { game: game.id, first_name: sample(game.names).id } });\n            });\n          },\n        },\n      ]\n    );\n  }\n\n  if (isOma) return (<View style={{ padding: 15, flex: 1, justifyContent: 'center', alignItems: 'center'}}>\n    <Text style={{fontSize: 72}}>☕️</Text>\n    <Text style={{ fontSize: 32, textAlign: 'center', marginBottom: 20}}>Hoi oma, het spel is bezig.</Text>\n    <Text style={{ fontSize: 32, textAlign: 'center'}}>Tijdens jouw beurt zie je hier de naam uit de hoed.</Text>\n  </View>)\n\n  return (\n    <View style={styles.container}>\n      <View>\n        <Text style={styles.title}>Spel: {game.name}</Text>\n        {!game.started && <Text>🕰 Het spel is nog niet gestart.</Text>}\n        {game.started && <Text>🚀 Het spel is gestart!</Text>}\n\n        <Divider />\n\n        <Text style={styles.title}>Spelers:</Text>\n        {game.players.map((player) => {\n          const claimedGameNames = player.claimed_names || []\n          const score = claimedGameNames.filter(\n            (claimedName) => claimedName.game_id === game.id\n          ).length;\n          return <Text key={player.id.toString()}>{player.name} ({score} punten)</Text>;\n        })}\n      </View>\n\n      {game.started && (\n        <View>\n          <Text style={styles.nameCountingTitle}>\n            Namen in de 🎩: &nbsp;\n            {game.names_frozen && <Text>{game?.unclaimed_names?.length} / </Text>}\n            {game?.unclaimed_names?.length}.\n          </Text>\n\n          {!game.names_frozen && (\n            <View>\n              <View style={styles.row}>\n                <TextInput\n                  style={styles.textInput}\n                  placeholder=\"Naam voor in de hoed\"\n                  value={newName}\n                  onChangeText={setNewName}\n                />\n                <Button title=\" + \" onPress={onCreateNamePress} />\n              </View>\n              <Text>Jij hebt er {nameContribution} toegevoegd.</Text>\n            </View>\n          )}\n\n          {game.names_frozen && !game.active_player && !!game.unclaimed_names.length && (\n            <Button\n              color=\"#BA7CC6\"\n              title=\"Het is mijn beurt, ik ga presenteren.\"\n              onPress={onTakeTurnPress}\n            />\n          )}\n          {hosting  && game.names_frozen && !game.active_player && !!game.unclaimed_names.length && (\n            <>\n              <Divider />\n              <Button\n                color=\"#BA7CC6\"\n                title=\"👵 Geef de beurt aan oma Jo.\"\n                onPress={onOmaTurnPress}\n              />\n            </>\n          )}\n          {game.names_frozen && !!game.active_player && (\n            <Text style={styles.title}>\n              🕺 {game.active_player.name} is aan het presenteren.\n            </Text>\n          )}\n          {hosting && game.names_frozen && !!game.active_player && game.active_player.auth_id === omaId && (\n            <>\n              <Divider />\n              <Button\n                color=\"#BA7CC6\"\n                title=\"👵 Oma is klaar.\"\n                onPress={onEndTurnPress}\n              />\n            </>\n          )}\n          {game.names_frozen && !game.unclaimed_names.length && (\n            <Text>\n              De maker van het spel kan een nieuwe ronde starten. Vergeet niet de\n              puntentelling op te schrijven!\n            </Text>\n          )}\n        </View>\n      )}\n\n      <View>\n        {hosting && !game.started && (\n          <Button color=\"#BA7CC6\" title=\"Starten\" onPress={onStartGamePress} />\n        )}\n        {hosting && game.started && !game.names_frozen && (\n          <Button\n            color=\"#BA7CC6\"\n            title=\"Hoed sluiten\"\n            onPress={onFreezeNamesPress}\n          />\n        )}\n        {hosting && game.names_frozen && !game.unclaimed_names.length && (\n          <Button\n            color=\"#BA7CC6\"\n            title=\"Nieuwe ronde starten\"\n            onPress={onResetRoundPress}\n          />\n        )}\n        <Divider />\n        {hosting && (\n          <Button\n            color=\"#d22461\"\n            title=\"Spel verwijderen\"\n            onPress={onDestroyGamePress}\n          />\n        )}\n        {!hosting && !game.started && (\n          <Button\n            color=\"#d22461\"\n            title=\"Spel verlaten\"\n            onPress={onLeaveGamePress}\n          />\n        )}\n      </View>\n    </View>\n  );\n}\n\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'space-between',\n    paddingHorizontal: 15,\n    paddingVertical: 50,\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    marginBottom: 15\n  },\n  row: {\n    flexDirection: 'row',\n    width: '100%',\n    marginBottom: 10,\n  },\n  separator: {\n    marginVertical: 30,\n    height: 1,\n    width: '80%',\n  },\n  gameListItem: {\n    padding: 15,\n    borderWidth: 1,\n    borderColor: 'purple',\n    flex: 1,\n    marginVertical: 5,\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  },\n  textInput: {\n    padding: 10,\n    marginRight: 10,\n    borderWidth: 1,\n    borderColor: 'blue',\n    flex: 1,\n  },\n  flatList: {\n    flex: 1,\n    backgroundColor: '#FFE3EC',\n    width: '100%'\n  },\n  playButton: {\n    backgroundColor: '#BA7CC6',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  nameCountingTitle: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 15\n  }\n});\n","import { StatusBar } from 'expo-status-bar';\nimport React, { useContext } from 'react';\nimport { SafeAreaProvider } from 'react-native-safe-area-context';\n\nimport useCachedResources from './hooks/useCachedResources';\nimport { Auth0Provider, Auth0Context } from './providers/Auth0Provider';\nimport { AuthorizedApolloProvider } from './providers/ApolloProvider';\nimport LobbyScreen from './screens/LobbyScreen';\nimport { GameProvider, GameContext } from './providers/GameProvider';\nimport { GameScreen } from './screens/GameScreen';\nimport { TurnScreen } from './screens/TurnScreen';\nimport { View } from \"./components/Themed\";\n\nconst AppContent: React.FC = () => {\n  const { game, myTurn, hosting } = useContext(GameContext)\n  const { omaId } = useContext(Auth0Context)\n\n  if(!!myTurn) return <TurnScreen />\n\n  if(hosting && game?.active_player?.auth_id === omaId ) return <TurnScreen />\n\n  if(!!game) return <GameScreen />\n\n  return <LobbyScreen />\n}\n\nexport default function App() {\n  const isLoadingComplete = useCachedResources();\n\n  if (!isLoadingComplete) {\n    return null;\n  } else {\n    return (\n      <SafeAreaProvider>\n          <AuthorizedApolloProvider>\n            <Auth0Provider>\n              <GameProvider>\n\n                <AppContent />\n\n              </GameProvider>\n            </Auth0Provider>\n          </AuthorizedApolloProvider>\n        <StatusBar />\n      </SafeAreaProvider>\n    );\n  }\n}\n","import { Ionicons } from '@expo/vector-icons';\nimport * as Font from 'expo-font';\nimport * as SplashScreen from 'expo-splash-screen';\nimport * as React from 'react';\n\nexport default function useCachedResources() {\n  const [isLoadingComplete, setLoadingComplete] = React.useState(false);\n\n  // Load any resources or data that we need prior to rendering the app\n  React.useEffect(() => {\n    async function loadResourcesAndDataAsync() {\n      try {\n        SplashScreen.preventAutoHideAsync();\n\n        // Load fonts\n        await Font.loadAsync({\n          ...Ionicons.font,\n          'space-mono': require('../assets/fonts/SpaceMono-Regular.ttf'),\n        });\n      } catch (e) {\n        // We might want to provide this error information to an error reporting service\n        console.warn(e);\n      } finally {\n        setLoadingComplete(true);\n        SplashScreen.hideAsync();\n      }\n    }\n\n    loadResourcesAndDataAsync();\n  }, []);\n\n  return isLoadingComplete;\n}\n","/* eslint-env browser */\n\nif ('serviceWorker' in navigator) {\n  window.addEventListener('load', function () {\n    navigator.serviceWorker\n      .register('/hoedspel/expo-service-worker.js', { scope: '/hoedspel/' })\n      .then(function (info) {\n        // console.info('Registered service-worker', info);\n      })\n      .catch(function (error) {\n        console.info('Failed to register service-worker', error);\n      });\n  });\n}\n","module.exports = __webpack_public_path__ + \"./fonts/SpaceMono-Regular.ttf\";"],"sourceRoot":""}